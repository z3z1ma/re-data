<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ETVVXXQ387"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ETVVXXQ387",{anonymize_ip:!0})</script><title data-react-helmet="true">Data Cleaning | re_data docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.getre.io//master/docs/reference/macros/data_cleaning"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Data Cleaning | re_data docs"><meta data-react-helmet="true" name="description" content="Data cleaning refers to fixing incorrect, corrupted, incorrectly formatted data within a dataset. They sometime come up and there could be a need to further clean up the data before it could be used by downstream systems."><meta data-react-helmet="true" property="og:description" content="Data cleaning refers to fixing incorrect, corrupted, incorrectly formatted data within a dataset. They sometime come up and there could be a need to further clean up the data before it could be used by downstream systems."><link data-react-helmet="true" rel="shortcut icon" href="/master/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.getre.io//master/docs/reference/macros/data_cleaning"><link data-react-helmet="true" rel="alternate" href="https://docs.getre.io//master/docs/reference/macros/data_cleaning" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.getre.io//master/docs/reference/macros/data_cleaning" hreflang="x-default"><link rel="stylesheet" href="/master/assets/css/styles.5c44bc76.css">
<link rel="preload" href="/master/assets/js/runtime~main.17d763bd.js" as="script">
<link rel="preload" href="/master/assets/js/main.441d1337.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/master/"><img src="/master/img/logo_circle.svg" alt="re_data logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/master/img/logo_circle.svg" alt="re_data logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">re_data</b></a><a class="navbar__item navbar__link" href="/master/docs/introduction/whatis">Docs</a><a class="navbar__item navbar__link" href="/master/docs/getting_started/installation/for_dbt_users">Getting started</a><a class="navbar__item navbar__link" href="/master/docs/reference/config">Reference</a><a class="navbar__item navbar__link" href="/master/docs/qa">Q&amp;A</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/re-data/re-data" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/master/"><img src="/master/img/logo_circle.svg" alt="re_data logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/master/img/logo_circle.svg" alt="re_data logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">re_data</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/master/docs/introduction/whatis">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/master/docs/getting_started/installation/for_dbt_users">Getting started</a></li><li class="menu__list-item"><a class="menu__link" href="/master/docs/reference/config">Reference</a></li><li class="menu__list-item"><a class="menu__link" href="/master/docs/qa">Q&amp;A</a></li><li class="menu__list-item"><a href="https://github.com/re-data/re-data" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu menu--responsive thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/introduction/whatis">What is re_data?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/introduction/integrations">Integrations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting started 🚂</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/getting_started/installation/for_dbt_users">Installation for dbt users</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/getting_started/installation/new_to_dbt">Installation for starters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Toy shop tutorial 🐼 🐨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/getting_started/toy_shop/toy_shop_data">Welcome to a toy shop!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/getting_started/toy_shop/compute_monitoring">Reliability data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/getting_started/toy_shop/generate_ui">Reliability UI 👀</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/getting_started/toy_shop/notifications">Notifications</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Reference 📓</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/master/docs/reference/config">Configuration ⚙️</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">re_data CLI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/cli/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/cli/run">Run</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/cli/notify">Notify</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Metrics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/metrics/overview_metric">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/metrics/base_metrics">Base metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/metrics/extra_metrics">Extra Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/metrics/your_own_metric">Your custom metrics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Tests 🧪</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/tests/history">Tests history</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/master/docs/reference/tests/metrics">Testing metrics</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Macros</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/master/docs/reference/macros/data_cleaning">Data Cleaning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/master/docs/reference/macros/data_filtering">Data Filtering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/master/docs/reference/macros/data_normalization">Data Normalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/master/docs/reference/macros/data_validation">Data Validation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/master/docs/reference/models">Models</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/master/docs/qa">Q&amp;A 💬</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="markdown"><header><h1 class="h1Heading_dC7a">Data Cleaning</h1></header><p>Data cleaning refers to fixing incorrect, corrupted, incorrectly formatted data within a dataset. They sometime come up and there could be a need to further clean up the data before it could be used by downstream systems.</p><p>re_data provides the fol macros to help reduce the time required to clean up a dataset. Check out the list of data cleaning macros available and let us know if you could use some different ones on <strong><a href="https://www.getre.io/slack" target="_blank" rel="noopener noreferrer">Slack 😊</a></strong> or <strong><a href="https://github.com/re-data/re-data/issues/new?assignees=&amp;labels=&amp;template=macro_request.md&amp;title=%5BMACRO%5D" target="_blank" rel="noopener noreferrer">Github</a></strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="clean_additional_whitespaces"></a>clean_additional_whitespaces<a class="hash-link" href="#clean_additional_whitespaces" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="source-code"></a><a href="https://re-data.github.io/dbt-re-data/#!/macro/macro.re_data.clean_additional_whitespaces" target="_blank" rel="noopener noreferrer">(source code)</a><a class="hash-link" href="#source-code" title="Direct link to heading">#</a></h4><p><em>Arguments:</em></p><ul><li><em>column: The column name or column expression to perform the cleaning operation on.</em></li></ul><p>Returns: text with removed whitespaces</p><p>This macro helps clean additional whitespaces between words ensuring that the maximum whitespace character between two words is one. Trailing and leading whitespaces are also removed using the <code>trim</code> function.</p><p>The example below shows how the macro can be used to fix incorrectly formatted names in a sample user table.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#9CDCFE"><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">select</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    full_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {{ re_data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clean_additional_whitespaces</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;full_name&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> }} </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> corrected_full_name</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> {{ ref</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;sample_user_data&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> }}</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  full_name             </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   corrected_full_name  </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">-------------------------------------------------+</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  lizzie effertz        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  lizzie effertz        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  orlando abbott        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  orlando abbott        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> kelley     harann      </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  kelley harann         </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> ruth   langworth       </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  ruth langworth        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> lane swift             </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  lane swift            </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="clean_blacklist"></a>clean_blacklist<a class="hash-link" href="#clean_blacklist" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="source-code-1"></a><a href="https://re-data.github.io/dbt-re-data/#!/macro/macro.re_data.clean_blacklist" target="_blank" rel="noopener noreferrer">(source code)</a><a class="hash-link" href="#source-code-1" title="Direct link to heading">#</a></h4><p><em>Arguments:</em></p><ul><li><em>column: The column name or column expression to perform the cleaning operation on.</em></li><li><em>chars_to_blacklist: List of words or regex patterns to match in the column.</em></li><li><em>replacement: a string that will replace each occurrence of the word or regex pattern.</em></li></ul><p>Returns: text with blacklisted characters replaced with <em>replacement</em></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#9CDCFE"><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">select</span><span class="token plain"> </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    email</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {{ re_data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clean_blacklist</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;^[a-zA-Z0-9_.+-]+&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;*****&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> }} </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> redacted_email </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> {{ ref</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;sample_user_data&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> }}</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  email                          </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   redacted_email        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">-----------------------------------------------------------+</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> torp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">trisha</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">     </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> dayton</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">hermiston</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">   </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">     </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> borer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">blake</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">     </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> garett66</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">           </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">     </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> nienow</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">coralie</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">     </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token variable" style="color:rgb(156, 220, 254)">@fakemail.com</span><span class="token plain">     </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This macro helps find certain words or regex pattern in a given column and replace it with the given replacement value.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="clean_capitalize_words"></a>clean_capitalize_words<a class="hash-link" href="#clean_capitalize_words" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="source-code-2"></a><a href="https://re-data.github.io/dbt-re-data/#!/macro/macro.re_data.clean_capitalize_words" target="_blank" rel="noopener noreferrer">(source code)</a><a class="hash-link" href="#source-code-2" title="Direct link to heading">#</a></h4><p><em>Arguments:</em></p><ul><li><p><em>column: The column name or column expression to perform the cleaning operation on.</em></p><p>  This macro helps capitalize the first letter of each word in a string.</p></li></ul><p>Returns: text with capitalized words</p><p>Below shows a sample table that contains badly formatted full names. We would like to clean up the extra whitespaces and capitalize the names. Also we want to redact the username part of the email addresses.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#9CDCFE"><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">select</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        full_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {{ re_data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clean_capitalize_words</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;full_name&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> }} </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> capitalized_full_name</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> {{ ref</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;sample_user_data&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> }}</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   full_name            </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">  capitalized_full_name    </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">----------------------------------------------------+</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  lizzie effertz        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   Lizzie Effertz          </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  orlando abbott        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   Orlando Abbott          </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  kelley harann         </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   Kelly Harann            </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  ruth langworth        </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   Ruth Langworth          </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  lane swift            </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain">   Lane Swift              </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If you have any suggesstions please feel free to raise an issue <a href="https://github.com/re-data/re-data/issues" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="your-ideas"></a>Your ideas<a class="hash-link" href="#your-ideas" title="Direct link to heading">#</a></h2><p>If you have other suggestions of cleaning data which you would like to be supported
<strong><a href="https://www.getre.io/slack" target="_blank" rel="noopener noreferrer">let us know on Slack! 😊</a></strong></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/re-data/re-data/edit/master/docs/docs/reference/macros/data_cleaning.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/master/docs/reference/tests/metrics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Testing metrics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/master/docs/reference/macros/data_filtering"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Filtering »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#clean_additional_whitespaces" class="table-of-contents__link">clean_additional_whitespaces</a></li><li><a href="#clean_blacklist" class="table-of-contents__link">clean_blacklist</a></li><li><a href="#clean_capitalize_words" class="table-of-contents__link">clean_capitalize_words</a></li><li><a href="#your-ideas" class="table-of-contents__link">Your ideas</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 ReData. All Rights Reserved.</div></div></div></footer></div>
<script src="/master/assets/js/runtime~main.17d763bd.js"></script>
<script src="/master/assets/js/main.441d1337.js"></script>
</body>
</html>